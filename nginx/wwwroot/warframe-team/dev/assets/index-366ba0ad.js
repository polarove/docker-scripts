import{f as N,u as $,_ as R}from"./wtu-team-list-c826900e.js";import{e as q,r as p,p as n,F as u,t,v as e,G as _,O as k,z as a,q as C,C as z,x as m,Z as w,ah as G,ab as I,a9 as J}from"./index-69a426b7.js";import{E as L}from"./el-dialog-d09e0ff6.js";import"./el-overlay-783c7ab8.js";import{E as O,a as P}from"./wtu-focus-1906bb96.js";import{E as U,a as W}from"./theme-abdce359.js";import{E as Z}from"./el-statistic-07ce2fcf.js";import{h as b}from"./index-b99f4544.js";import"./wtu-booster-list-e14bc4db.js";import"./el-button-26725033.js";import"./use-form-item-c6c077b7.js";import"./use-form-common-props-152c363a.js";/* empty css                   */import"./index-569d277e.js";import"./castArray-1ae6a672.js";import"./index-d15b5e51.js";import"./error-78e43d3e.js";import"./focus-trap-29bc1f12.js";import"./index-a5dd11f6.js";const j={key:0,class:"i-ep:loading animation_rotate"},H=m("span",{"color-gray":""},"任务",-1),K=m("span",{"color-gray":""},"奖励池",-1),M=q({__name:"wtu-cycle-events",setup(B){const r=p([]),c=p(!0),d=async()=>{c.value=!0;const s=await b();r.value=s.data,console.log(r.value),c.value=!1};d();const x=p(!1),V=async s=>{x.value=!0;const l=await b();l.data.forEach(v=>{if(v.id===s)console.log(`event: ${s} cycle not changed, refresh again`),setTimeout(()=>V(s),3e3);else return r.value=l.data,x.value=!1,!0})},f=p(!1),E=p({id:"",activation:"",startString:"",expiry:"",active:!1,description:"",tooltip:"",concurrentNodes:[],victimNode:"",rewards:[],expired:!1,health:0,affiliatedWith:"",jobs:[],previousJobs:[],previousId:"",interimSteps:[],progressSteps:[],regionDrops:[],archwingDrops:[],asString:"",metadata:{},completionBonuses:[],altExpiry:"",altActivation:"",nextAlt:{expiry:"",activation:""},subscribed:!1}),D=s=>{f.value=!0,E.value=r.value[s]};return(s,l)=>{const v=Z,F=O,i=U,g=W,S=P,T=L;return n(),u(_,null,[t(S,{loading:a(c),rows:1},{default:e(()=>[t(g,{gutter:12,class:"mt-1em"},{default:e(()=>[(n(!0),u(_,null,k(a(r),(o,h)=>(n(),C(i,{key:h,span:24/a(r).length},{default:e(()=>[t(F,{class:"c-p",shadow:"hover",onClick:y=>D(h)},{default:e(()=>[t(v,{format:a(N).day,value:a($)(o.expiry),onFinish:y=>V(o.id)},{prefix:e(()=>[a(x)?(n(),u("span",j)):z("",!0)]),title:e(()=>[m("div",null,w(o.description),1)]),_:2},1032,["format","value","onFinish"])]),_:2},1032,["onClick"])]),_:2},1032,["span"]))),128))]),_:1})]),_:1},8,["loading"]),t(T,{modelValue:a(f),"onUpdate:modelValue":l[1]||(l[1]=o=>I(f)?f.value=o:null)},{header:e(()=>[m("div",null,w(a(E).description),1)]),default:e(()=>[t(g,null,{default:e(()=>[t(i,{span:8},{default:e(()=>[H]),_:1}),t(i,{span:16},{default:e(()=>[K]),_:1}),(n(!0),u(_,null,k(a(E).jobs,(o,h)=>(n(),C(i,{span:24,key:h,"mt-1em":""},{default:e(()=>[t(g,null,{default:e(()=>[t(i,{span:8},{default:e(()=>[t(v,{format:a(N).hour,value:a($)(o.expiry),onFinish:l[0]||(l[0]=y=>d())},{title:e(()=>[m("div",null,w(o.type),1)]),_:2},1032,["format","value"])]),_:2},1024),t(i,{span:16},{default:e(()=>[t(g,null,{default:e(()=>[(n(!0),u(_,null,k(o.rewardPool,(y,A)=>(n(),C(i,{span:8,key:A},{default:e(()=>[G(w(y),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])],64)}}}),Q={};function X(B,r){const c=M,d=R;return n(),u(_,null,[t(c),t(d)],64)}const he=J(Q,[["render",X]]);export{he as default};
