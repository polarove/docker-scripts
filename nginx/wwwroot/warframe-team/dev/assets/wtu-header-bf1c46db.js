import{b as K,_ as j,e as w,E as G,D as Q,l as b,r as I,g as X,u as Z,b0 as J,as as E,p as u,q as k,t as o,v as p,P as W,x as z,$ as Y,B as x,y as v,F as _,R as C,Z as T,C as y,Q as ee,T as te,S as se,X as ne,aa as $,bT as g,z as s,ae as oe,c8 as ae,a5 as D,ad as A,a9 as U,ag as le,aN as R,b2 as re,n as ie,c9 as ue,G as de,O as ce,ca as pe,ac as h,bS as me,cb as fe,ah as _e,A as N}from"./index-69a426b7.js";import{E as ve}from"./index-d15b5e51.js";import{b as be,c as ge,u as ye}from"./el-overlay-783c7ab8.js";import{E as we}from"./focus-trap-29bc1f12.js";import{u as O}from"./use-form-item-c6c077b7.js";import{b as L,i as P,E as Se,a as he}from"./theme-abdce359.js";import{_ as ze,a as ke}from"./wtu-logo-810ed29c.js";import{a as $e}from"./index-569d277e.js";import{E as Ee}from"./el-input-5783c248.js";import{b as Ce,a as De,E as Ue}from"./wtu-booster-list-e14bc4db.js";const Ie=K({...be,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Be=ge,Re=w({name:"ElDrawer",components:{ElOverlay:ve,ElFocusTrap:we,ElIcon:G,Close:Q},inheritAttrs:!1,props:Ie,emits:Be,setup(e,{slots:t}){O({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},b(()=>!!t.title)),O({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},b(()=>!!e.customClass));const r=I(),m=I(),d=X("drawer"),{t:c}=Z(),i=b(()=>e.direction==="rtl"||e.direction==="ltr"),n=b(()=>J(e.size));return{...ye(e,r),drawerRef:r,focusStartRef:m,isHorizontal:i,drawerSize:n,ns:d,t:c}}}),Ne=["aria-label","aria-labelledby","aria-describedby"],Oe=["id","aria-level"],Pe=["aria-label"],Te=["id"];function Ae(e,t,r,m,d,c){const i=E("close"),n=E("el-icon"),a=E("el-focus-trap"),l=E("el-overlay");return u(),k(se,{to:"body",disabled:!e.appendToBody},[o(te,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:p(()=>[W(o(l,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:p(()=>[o(a,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:p(()=>[z("div",Y({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=x(()=>{},["stop"]))}),[z("span",{ref:"focusStartRef",class:v(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(u(),_("header",{key:0,class:v(e.ns.e("header"))},[e.$slots.title?C(e.$slots,"title",{key:1},()=>[y(" DEPRECATED SLOT ")]):C(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?y("v-if",!0):(u(),_("span",{key:0,id:e.titleId,role:"heading","aria-level":e.headerAriaLevel,class:v(e.ns.e("title"))},T(e.title),11,Oe))]),e.showClose?(u(),_("button",{key:2,"aria-label":e.t("el.drawer.close"),class:v(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...f)=>e.handleClose&&e.handleClose(...f))},[o(n,{class:v(e.ns.e("close"))},{default:p(()=>[o(i)]),_:1},8,["class"])],10,Pe)):y("v-if",!0)],2)):y("v-if",!0),e.rendered?(u(),_("div",{key:1,id:e.bodyId,class:v(e.ns.e("body"))},[C(e.$slots,"default")],10,Te)):y("v-if",!0),e.$slots.footer?(u(),_("div",{key:2,class:v(e.ns.e("footer"))},[C(e.$slots,"footer")],2)):y("v-if",!0)],16,Ne)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[ee,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Le=j(Re,[["render",Ae],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const lt=ne(Le);const Ve=w({__name:"wtu-online-state",props:{tooltipDisabled:{type:Boolean,default:!1},size:{type:String,default:"1.3rem"}},setup(e){const t=$(),r=b(()=>t.getOnlineStatus()===g.offline),m=b(()=>t.getOnlineStatus()===g.online),d=b(()=>t.getOnlineStatus()===g.online_in_game),c=async()=>{const n=await ae(t.getUUID());n.code===200?(t.$reset(),D.replace({name:"login"})):$e.error(n.message)},i=async n=>{n!==t.getOnlineStatus()&&t.setOnlineStatus(n)};return(n,a)=>{const l=A,f=L;return u(),_("div",null,[o(f,{content:"离线",disabled:e.tooltipDisabled},{default:p(()=>[o(l,{onClick:a[0]||(a[0]=S=>i(s(g).offline)),name:"offline",size:e.size,class:v(["state offline",{active:s(r)}])},null,8,["size","class"])]),_:1},8,["disabled"]),o(f,{content:"在线",disabled:e.tooltipDisabled},{default:p(()=>[o(l,{onClick:a[1]||(a[1]=S=>i(s(g).online)),name:"online",size:e.size,class:v(["state online",{active:s(m)}])},null,8,["size","class"])]),_:1},8,["disabled"]),o(f,{content:"游戏中",disabled:e.tooltipDisabled},{default:p(()=>[o(l,{onClick:a[2]||(a[2]=S=>i(s(g).online_in_game)),name:"wifi-solid",size:e.size,class:v(["state ingame",{active:s(d)}])},null,8,["size","class"])]),_:1},8,["disabled"]),s(oe)(s(t).getUUID())?(u(),k(f,{key:0,content:"退出登录",disabled:e.tooltipDisabled},{default:p(()=>[o(l,{name:"poweroff",size:e.size,onClick:a[3]||(a[3]=S=>c()),class:"state poweroff"},null,8,["size"])]),_:1},8,["disabled"])):y("",!0)])}}});const V=U(Ve,[["__scopeId","data-v-b7fa79e2"]]),He={class:"vertical-middle"},Me=w({__name:"ryu-user-name",props:{inputSize:{type:String,default:"default"}},setup(e){const t=$(),r=le({uuid:"",name:"",inputVisible:!1}),m=async()=>{r.uuid=t.getUUID();const i=await re(r);i.success&&(t.setUser(i.data),r.name="",c(!1))},d=I(),c=i=>{r.inputVisible=i,r.inputVisible&&ie(()=>{var n;(n=d.value)==null||n.focus()})};return(i,n)=>{const a=Ee;return u(),_("div",He,[s(r).inputVisible?(u(),k(a,{key:0,size:e.inputSize,modelValue:s(r).name,"onUpdate:modelValue":n[0]||(n[0]=l=>s(r).name=l),placeholder:"按回车提交",onKeyup:[n[1]||(n[1]=R(l=>m(),["enter"])),n[2]||(n[2]=R(l=>c(!1),["escape"]))],ref_key:"inputRef",ref:d},null,8,["size","modelValue"])):(u(),_("div",{key:1,class:"font-bold",onDblclick:n[3]||(n[3]=l=>c(!0))},T(s(t).getName()),33))])}}}),qe=w({__name:"wtu-platform",props:{size:{type:String,default:"1.7em"}},setup(e){const t=$(),r=new Map(Object.entries(ue)),m=d=>{t.setPlatform(d),pe(d)};return(d,c)=>{const i=A,n=L;return u(),_("div",null,[(u(!0),_(de,null,ce(s(r),a=>(u(),_("div",null,[o(n,{content:a[0]},{default:p(()=>[o(i,{class:v([{active:s(t).getPlatform()===a[1]},"c-p hover-color-blue"]),onClick:l=>m(a[1]),name:a[1],size:e.size},null,8,["class","onClick","name","size"])]),_:2},1032,["content"])]))),256))])}}});const Fe=U(qe,[["__scopeId","data-v-91b62c81"]]),Ke={class:"md:display-none"},je=w({__name:"wtu-avatar",props:{shape:{type:String,default:"square"},size:{type:Number,default:60},avatar:{type:String,default:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},PopDisabled:{type:Boolean,default:!1}},setup(e){const t=$(),r=b(()=>h(t.getUUID())),m=b(()=>t.getOnlineStatus()===g.offline),d=b(()=>t.getOnlineStatus()===g.online),c=b(()=>t.getOnlineStatus()===g.online_in_game),i=()=>{if(h(t.getUUID())){D.push({name:"login"});return}D.push({name:"profile"})},n=l=>{t.hasBooster(l)?t.removeBooster(l):t.setBooster(l),fe(t.getUserBooster())},a=l=>{console.log(l)};return(l,f)=>{const S=Ce,H=De,M=Fe,q=V,F=Ue;return u(),k(F,{width:320,disabled:e.PopDisabled||s(h)(s(t).getUUID()),"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; border-radius: 0.5em; padding: 20px;"},{reference:p(()=>[o(S,{onClick:f[0]||(f[0]=B=>i()),src:s(h)(s(t).getUUID())?e.avatar:s(t).getAvatar(),fit:"cover",shape:e.shape,size:e.size,onError:a,class:v(["avatar",{unknown:s(r),offline:s(m),online:s(d),ingame:s(c)}])},null,8,["src","shape","size","class"])]),default:p(()=>[o(H,{booster:s(t).getUserBooster(),onToggle:f[1]||(f[1]=B=>n(B)),direction:s(me).horizental,size:"2.7em"},null,8,["booster","direction"]),o(M,{size:"1.7em",class:"status"}),z("div",Ke,[o(q,{tooltipDisabled:!0,size:"1.7em",class:"status"})])]),_:1},8,["disabled"])}}});const Ge=U(je,[["__scopeId","data-v-5290eb14"]]),Qe={class:"lt-md-display-none ml-1em tp"},Xe={key:1},Ze=w({__name:"wtu-header",setup(e){const t=$();return t.updateUser(),(r,m)=>{const d=ze,c=Se,i=ke,n=Ge,a=Me,l=V,f=he;return u(),k(f,{class:"wtu-header",style:N({boxShadow:s(P)?"":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"})},{default:p(()=>[o(c,{span:5,class:"flex-center"},{default:p(()=>[o(d)]),_:1}),o(c,{span:12,class:"flex-center"},{default:p(()=>[o(i,{class:"md:display-none"})]),_:1}),o(c,{span:7,class:"flex-center"},{default:p(()=>[o(n,{class:"avatar"}),z("div",Qe,[s(h)(s(t).getUUID())?(u(),_("div",{key:0,class:"text-center text-size-[1.0rem] ml-1.0em cursor-pointer hover-color-blue",onClick:m[0]||(m[0]=()=>s(D).push({name:"login"}))}," 点击登录 / 注册 ")):(u(),_("div",Xe,[o(a,{inputSize:"small"}),_e(),o(l)]))])]),_:1}),z("div",{class:"curtain",style:N({visibility:s(P)?"visible":"hidden"})},null,4)]),_:1},8,["style"])}}});const rt=U(Ze,[["__scopeId","data-v-656e7f22"]]);export{lt as E,rt as _,Ge as a,Me as b};
